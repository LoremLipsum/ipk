jQuery(document).ready(function(n){"use strict";n(function(){var e,t,o=n(".js-anchor");o.length&&o.click(function(){e=n(this),t=e.attr("href"),n("html, body").animate({scrollTop:n(t).offset().top},500)})})}),jQuery(function(e){e(".js-fancybox").fancybox()}),jQuery(function(e){var t=e('input[type="tel"]'),o=e("textarea");t.length&&t.mask("+7 (999) 999-99-99"),o.html(o.html().trim())}),jQuery(function(e){var t=e(".js-gallery-slider");if(t.length){var o=!0;function n(){767<document.documentElement.clientWidth&&!o?(t.slick("unslick"),o=!0):document.documentElement.clientWidth<767&&o&&(t.slick({infinite:!0,arrows:!1,slidesPerRow:1,slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!0,dotsClass:"gallery__dots dots",responsive:[{breakpoint:767,settings:{slidesToShow:3}},{breakpoint:600,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),o=!1)}n(),e(window).resize(function(){n()})}}),jQuery(function(t){var o=t(".js-main-nav-btn");if(o){var n=t(".js-main-nav-panel");+t(window).outerWidth()<768&&(o.on("click",function(e){e.preventDefault(),t(this).toggleClass("active"),n.toggleClass("active")}),t(document).on("keyup",function(){27===e.keyCode&&(n.removeClass("active"),o.removeClass("active"))}))}}),function(){var t=document.querySelectorAll(".js-modal");if(console.log("sdfsaafsa"),t.length){for(var e=document.querySelectorAll(".js-modal-close"),o=document.querySelectorAll(".js-modal-overlay"),n=document.querySelectorAll(".js-callback-button"),l=document.querySelector(".js-callback-modal"),a=document.querySelectorAll(".js-feedback-button"),s=document.querySelector(".js-feedback-modal"),r=0;r<e.length;r+=1)e[r].addEventListener("click",function(e){e.preventDefault(),e.currentTarget.parentNode.parentNode.classList.remove("active")});for(r=0;r<o.length;r+=1)o[r].addEventListener("click",function(e){e.preventDefault(),e.currentTarget.parentNode.classList.remove("active")});document.addEventListener("keyup",function(e){27===e.keyCode&&(e.preventDefault(),function(){for(var e=0;e<t.length;e+=1)t[e].classList.remove("active")}())});for(r=0;r<n.length;r+=1)n[r].addEventListener("click",function(e){e.preventDefault(),l.classList.add("active")});for(r=0;r<a.length;r+=1)a[r].addEventListener("click",function(e){e.preventDefault(),s.classList.add("active")})}}(),jQuery(function(a){var s=a(".js-object-map");s.length&&767<a(window).outerWidth()&&ymaps.ready(function(){var e=new ymaps.Map("object_map",{center:[59.939095,30.315868],zoom:10,scrollZoom:!1,controls:[]},{searchControlProvider:"yandex#search",yandexMapDisablePoiInteractivity:!0}),o=a('<ol class="map-list"/>');e.behaviors.disable("scrollZoom"),e.controls.add("zoomControl");e.controls.get("zoomControl").state.get("size");e.controls.get("zoomControl").options.set("size","small");var n=new ymaps.GeoObjectCollection(null,{preset:projectMapData.style});e.geoObjects.add(n);for(var t=function(e){var t=new ymaps.Placemark(e.coords,{balloonContent:e.balloonContent});n.add(t),a('<li class="map-list__item"><button type="button" class="map-list__button js-button-pin">'+e.text+"</button></li>").appendTo(o).find(".js-button-pin").on("click",function(){return s.find(".js-button-pin").parent().removeClass("active"),a(this).parent().toggleClass("active"),t.balloon.isOpen()?t.balloon.close():t.balloon.open(),!1})},l=0;l<projectMapData.items.length;l+=1)t(projectMapData.items[l]);o.appendTo(a(".js-map-list")),e.setBounds(e.geoObjects.getBounds())})}),jQuery(function(e){e(".js-project-map").length&&ymaps.ready(function(){var e=new ymaps.Map("project_map",{center:projectMapData.coords,zoom:projectMapData.zoom,scrollZoom:!1,controls:[]},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(projectMapData.coords,{balloonContent:projectMapData.balloonContent},{preset:"islands#blueIcon"});e.geoObjects.add(t),e.behaviors.disable("scrollZoom"),e.controls.add("zoomControl");e.controls.get("zoomControl").state.get("size");e.controls.get("zoomControl").options.set("size","small")})}),jQuery(function(e){var t=e(".js-projects-slider");if(t.length){var o=!0;function n(){document.documentElement.clientWidth<768&&!o?(t.slick("unslick"),o=!0):767<document.documentElement.clientWidth&&o&&(t.slick({infinite:!0,arrows:!0,slidesPerRow:1,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,autoplayHoverPause:!0,swipeToSlide:!0,prevArrow:'<button class="control control--prev projects__prev" type="button"></button>',nextArrow:'<button class="control control--next projects__next" type="button"></button>'}),o=!1)}n(),e(window).resize(function(){n()})}});